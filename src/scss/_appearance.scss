%rst-table {
    th {
        @include rst-apply-properties("th",
            "font-weight"
        );
    }

    $partProperties: "color", "vertical-align", "text-align", "border";
    $containerProperties: "background-color";

    td, th {
        padding: rst-get("cell", "padding");
    }

    .rst-headContainer {
        @include rst-apply-properties("header", $containerProperties...)
    }

    .rst-bodyContainer {
        @include rst-apply-properties("body", $containerProperties...)
    }

    thead {
        @include rst-apply-properties("header", $partProperties...);
    }

    tbody {
        @include rst-apply-properties("body", $partProperties...);
    }

    thead > tr:last-child {
        border-bottom-width: rst-get("head", "border-width");
    }

    thead .rst-icon {
        margin-left: rst-get("header", "icon-spacing");
    }

    .rst-columnResizer {
        @include rst-apply-properties("column-resizer",
            "width",
            "background-color"
        );
    }

    .rst-container {
        @include rst-apply-properties("root-container",
            "margin",
            "background-color"
        );
    }
}

%rst-placeholder {
    .rst-bodyPlaceholder {
        @include rst-apply-properties("body-placeholder",
            "padding",
            "text-align",
            "color"
        );
    }
}

%rst-rowStriped {
    tbody tr:nth-of-type(#{$rst-striped-order}) {
        @include rst-apply-properties("row-striped",
            "overlay",
            "color"
        )
    }
}

%rst-rowHover {
    tbody tr:hover {
        @include rst-apply-properties("row-hover",
            "overlay",
            "color"
        )
    }
}

%rst-rowActive {
    $properties: "underline";

    tbody tr.is-active {
        @include rst-apply-properties("row-active", $properties...);
    }

    &:focus-within tbody tr.is-active {
        @include rst-apply-properties("row-active-focused", $properties...);
    }
}

%rst-rowSelected {
    $properties: "overlay" "color" "border-color";

    tbody tr.is-selected {
        @include rst-apply-properties("row-selected", $properties...);
    }

    &:focus-within tbody tr.is-selected {
        @include rst-apply-properties("row-selected-focused", $properties...);
    }
}

%rst-columnResizer {
    .rst-columnResizer:active {
        @include rst-apply-properties("column-resizer-active",
            "background-color"
        );
    }
}

%rst-dragSelection {
    .rst-dragSelection {
        @include rst-apply-properties("drag-selection",
            "border",
            "border-radius",
            "background-color"
        );
    }
}

%rst-pagination {
    .rst-pagination {
        grid-gap: rst-get("pg", "item-spacing");

        @include rst-apply-properties("pg",
            "color",
            "padding"
        );

        & > * {
            @include rst-apply-properties("pg-item",
                "padding"
            )
        }

        .rst-page {
            @include rst-apply-properties("pg-page",
                "width"
            )
        }

        button {
            @include rst-apply-properties("pg-btn",
                "background-color",
                "border-radius",
                "border",
                "color"
            );

            $properties: "background-color", "border-color", "color";

            &:hover {
                @include rst-apply-properties("pg-btn-hover", $properties...);
            }

            &.is-current {
                @include rst-apply-properties("pg-btn-current", $properties...);
            }

            &:disabled {
                @include rst-apply-properties("pg-btn-disabled", $properties...);
            }
        }
    }
}

%rst-search {
    .rst-searchContainer {
        @include rst-apply-properties("search-container",
            "padding",
            "width"
        );
    }

    .rst-search {
        column-gap: rst-get("search", "item-spacing");

        @include rst-apply-properties("search",
            "background-color",
            "color",
            "padding",
            "border",
            "border-radius",
            "box-shadow"
        );

        .rst-matches {
            @include rst-apply-properties("search-matches",
                "color"
            );
        }

        .rst-separator {
            border-right: rst-get("search-separator", "border");
        }

        button {
            @include rst-apply-properties("search-btn",
                "padding",
                "border",
                "border-radius",
                "background-color"
            );

            &:hover {
                @include rst-apply-properties("search-btn-hover",
                    "background-color",
                    "border-color"
                );
            }
        }
    }
}

.rst-table {
    @include rst-load-config($rst-config);

    @extend %rst-table;
    @extend %rst-placeholder;
    @extend %rst-rowActive;
    @extend %rst-rowStriped;
    @extend %rst-rowHover;
    @extend %rst-rowSelected;
    @extend %rst-dragSelection;
    @extend %rst-columnResizer;
    @extend %rst-pagination;
    @extend %rst-search;
}
