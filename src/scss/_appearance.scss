%rst-table {
    th {
        @include rst-apply-properties("th",
            "font-weight"
        );
    }

    $partProperties: "color", "vertical-align", "text-align";

    //Applied on container to fill available height when not enough items in body
    $containerProperties: "background-color";

    td, th {
        @include rst-apply-properties("cell", "padding", "border");
    }

    .rst-headContainer {
        @include rst-apply-properties("head", $containerProperties...);

        border-bottom: rst-get("header", "border");

        .rst-icon {
            margin-left: rst-get("header", "icon-spacing");
        }
    }

    .rst-scrollingContainer[data-dragmode="resize"] {
        .rst-headContainer {
            @include rst-apply-properties("header-resizing", "border-image");
        }

        .rst-bodyContainer {
            @include rst-apply-properties("body-resizing", "opacity");
        }
    }

    .rst-bodyContainer {
        @include rst-apply-properties("body", $containerProperties...);

        tr {
            border-bottom: rst-get("row", "border");
        }
    }

    .rst-headerContent {
        @include rst-apply-properties("cell", "padding");
    }

    thead {
        @include rst-apply-properties("head", $partProperties...);
    }

    tbody {
        @include rst-apply-properties("body", $partProperties...);
    }

    @include rst-apply-properties("root-container",
        "margin",
        "background-color"
    );
}

%rst-placeholder {
    .rst-bodyPlaceholder {
        @include rst-apply-properties("body-placeholder",
            "padding",
            "text-align",
            "color"
        );
    }
}

%rst-rowStriped {
    tbody tr:nth-of-type(#{$rst-striped-order}) {
        @include rst-apply-properties("row-striped",
            "overlay",
            "color"
        )
    }
}

%rst-rowHover {
    tbody tr:hover {
        @include rst-apply-properties("row-hover",
            "overlay",
            "color"
        )
    }
}

%rst-rowActive {
    $properties: "underline";

    tbody tr.rst-active {
        @include rst-apply-properties("row-active", $properties...);
    }

    &:focus-within tbody tr.rst-active {
        @include rst-apply-properties("row-active-focused", $properties...);
    }
}

%rst-rowSelected {
    $properties: "overlay" "color" "border-color";

    tbody tr.rst-selected {
        @include rst-apply-properties("row-selected", $properties...);
    }

    &:focus-within tbody tr.rst-selected {
        @include rst-apply-properties("row-selected-focused", $properties...);
    }
}

%rst-columnResizer {
    .rst-columnResizer {
        @include rst-apply-properties("column-resizer", "width");
    }

    .rst-resizing .rst-columnResizer {
        border-right: rst-get("column-resizer-resizing", "border");
    }

    .rst-columnSeparator {
        border-left: rst-get("column-separator", "border");
    }
}

%rst-dragSelection {
    .rst-dragSelection {
        @include rst-apply-properties("drag-selection",
            "border",
            "border-radius",
            "background-color"
        );
    }
}

%rst-pagination {
    .rst-pagination {
        grid-gap: rst-get("pg", "item-spacing");

        @include rst-apply-properties("pg",
            "color",
            "padding"
        );

        & > * {
            @include rst-apply-properties("pg-item",
                "padding"
            )
        }

        .rst-page {
            @include rst-apply-properties("pg-page",
                "width"
            )
        }

        button {
            @include rst-apply-properties("pg-btn",
                "background-color",
                "border-radius",
                "border",
                "color"
            );

            $properties: "background-color", "border-color", "color";

            &:hover {
                @include rst-apply-properties("pg-btn-hover", $properties...);
            }

            &.is-current {
                @include rst-apply-properties("pg-btn-current", $properties...);
            }

            &:disabled {
                @include rst-apply-properties("pg-btn-disabled", $properties...);
            }
        }
    }
}

%rst-search {
    .rst-searchContainer {
        @include rst-apply-properties("search-container",
            "padding",
            "width"
        );
    }

    .rst-search {
        column-gap: rst-get("search", "item-spacing");

        @include rst-apply-properties("search",
            "background-color",
            "color",
            "padding",
            "border",
            "border-radius",
            "box-shadow"
        );

        .rst-matches {
            @include rst-apply-properties("search-matches",
                "color"
            );
        }

        .rst-separator {
            border-right: rst-get("search-separator", "border");
        }

        button {
            @include rst-apply-properties("search-btn",
                "padding",
                "border",
                "border-radius",
                "background-color"
            );

            &:hover {
                @include rst-apply-properties("search-btn-hover",
                    "background-color",
                    "border-color"
                );
            }
        }
    }
}

.rst-table {
    @include rst-load-config($rst-config);

    @extend %rst-table;
    @extend %rst-placeholder;
    @extend %rst-rowActive;
    @extend %rst-rowStriped;
    @extend %rst-rowHover;
    @extend %rst-rowSelected;
    @extend %rst-dragSelection;
    @extend %rst-columnResizer;
    @extend %rst-pagination;
    @extend %rst-search;
}
